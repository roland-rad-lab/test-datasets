
profiles {
	charliecloud {
		charliecloud {
			runOptions = '--no-passwd'
		}

		process {

			withName: star_align {
				container = '/media/rad/SSD2/images-live/star-2.7.10a'
			}

			withName: star_build_index {
				container = '/media/rad/SSD2/images-live/star-2.7.10a'
			}

			withName: count {
				memory = '150 GB'
				container = '/media/rad/SSD2/images-live/crispr-rust-0.0.4'
			}

			withName: qc {
				container = '/media/rad/SSD2/images-live/multiqc-1.12'
			}
		}
	}

	slurm {
		process {
			executor = 'slurm'
			clusterOptions = '--nodelist rad-WS[6]'
			cpus = 1
			memory = '2 GB'
			time = '1h'

			// withName blocks cannot be empty
			withName: star_align {
				cpus = 5
				time = '5h'
				memory = '10 GB'
				queue = "medium"
			}

			withName: count {
				time = '5h'
				memory = '150 GB'
				queue = "medium"
			}
		}
	}
}

